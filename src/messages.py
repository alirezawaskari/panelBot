buttons = {
    "language": {
        "en": "English 🇬🇧",
        "fa": "فارسی 🇮🇷"
    },
    "admin_panel": {
        "manage_users": {
            "en": "👥 Manage Users",
            "fa": "👥 مدیریت کاربران"
        },
        "manage_products": {
            "en": "📦 Manage Products",
            "fa": "📦 مدیریت محصولات"
        },
        "manage_orders": {
            "en": "🛒 Manage Orders",
            "fa": "🛒 مدیریت سفارشات"
        },
        "toggle_bot": {
            "en": "⚙️ Enable/Disable Bot",
            "fa": "⚙️ فعال/غیرفعال کردن ربات"
        },
        "manage_admins": {
            "en": "👨‍💼 Manage Admins",
            "fa": "👨‍💼 مدیریت ادمین‌ها"
        },
        "go_back": {
            "en": "🔙 Back to Main Menu",
            "fa": "🔙 بازگشت به منوی اصلی"
        }
    },
    "user_panel": {
        "view_products": {
            "en": "🛒 View Products",
            "fa": "🛒 مشاهده محصولات"
        },
        "check_balance": {
            "en": "💳 Check Balance",
            "fa": "💳 بررسی موجودی"
        },
        "order_product": {
            "en": "📦 Place Order",
            "fa": "📦 ثبت سفارش"
        },
        "order_product": {
            "en": "📦 Rules",
            "fa": "📦 قوانین"
        },
        "order_product": {
            "en": "📦 Place Order",
            "fa": "📦 ثبت سفارش"
        }
    },
    "manage_users": {
        "increase_balance": {
            "en": "Increase Balance",
            "fa": "افزایش موجودی"
        },
        "decrease_balance": {
            "en": "Decrease Balance",
            "fa": "کاهش موجودی"
        },
        "ban_user": {
            "en": "Ban User",
            "fa": "بن کردن کاربر"
        },
        "unban_user": {
            "en": "Unban User",
            "fa": "آزاد کردن کاربر"
        }
    },
    "manage_products": {
        "increase_price": {
            "en": "Increase Product Price",
            "fa": "افزایش قیمت محصول"
        },
        "decrease_price": {
            "en": "Decrease Product Price",
            "fa": "کاهش قیمت محصول"
        }
    },
    "manage_orders": {
        "complete_order": {
            "en": "Complete Order",
            "fa": "تکمیل سفارش"
        },
        "cancel_order": {
            "en": "Cancel Order",
            "fa": "لغو سفارش"
        }
    },
    "manage_admins": {
        "add_admin": {
            "en": "Add Admin",
            "fa": "افزودن ادمین"
        },
        "remove_admin": {
            "en": "Remove Admin",
            "fa": "حذف ادمین"
        },
    },
}

messages = {
    "admin_panel": {
        "en": "💼 Admin Panel: Please select an option.",
        "fa": "💼 پنل ادمین: لطفاً یک گزینه را انتخاب کنید."
    },
    "user_panel": {
        "en": "👤 User Panel: Please select an option.",
        "fa": "👤 پنل کاربری: لطفاً یکی از گزینه‌ها را انتخاب کنید."
    },
    "manage_users": {
        "en": "👥 Select an option to manage users:",
        "fa": "👥 مدیریت کاربران؛ یک گزینه‌ را انتخاب کنید:"
    },
    "user_stats": {
        "en": "👥 Total Users: {count}",
        "fa": "👥 تعداد کاربران: {count}"
    },
    "order_list": {
        "en": "📦 Ongoing Orders:\n{orders}",
        "fa": "📦 سفارشات در حال انجام:\n{orders}"
    },
    "product_details": {
        "en": "📦 Product: {name}\n💰 Price: {price}",
        "fa": "📦 محصول: {name}\n💰 قیمت: {price}"
    },
    "product_price_updated": {
        "en": "✅ The price of {product_name} has been updated to {new_price}.",
        "fa": "✅ قیمت محصول {product_name} به {new_price} به‌روزرسانی شد."
    },
    "order_confirmation": {
        "en": "✅ Your order has been placed: {product_name} - Price: {price}",
        "fa": "✅ سفارش شما ثبت شد: {product_name} - قیمت: {price}"
    },
    "balance_check": {
        "en": "💳 Your current balance is: {balance}",
        "fa": "💳 موجودی فعلی شما: {balance}"
    },
    "log_user_start": {
        "en": "👤 User {user_id} started the bot.",
        "fa": "👤 کاربر {user_id} ربات را شروع کرد."
    },
    "log_purchase": {
        "en": "🛒 Purchase: Order ID {order_id}, Product: {product_name}, User: {user_id}",
        "fa": "🛒 خرید: شماره سفارش {order_id}, محصول: {product_name}, کاربر: {user_id}"
    },
    "admin_list": {
        "en": "👨‍💼 Admins:\n{admins}",
        "fa": "👨‍💼 ادمین‌ها:\n{admins}"
    },
    "errors": {
        "user_not_found": {
            "en": "❌ User not found.",
            "fa": "❌ کاربر یافت نشد."
        },
        "product_not_found": {
            "en": "❌ Product not found.",
            "fa": "❌ محصول پیدا نشد."
        },
        "order_not_found": {
            "en": "❌ Order not found.",
            "fa": "❌ سفارش پیدا نشد."
        },
        "permission_denied": {
            "en": "❌ You do not have permission to perform this action.",
            "fa": "❌ شما مجوز انجام این عمل را ندارید."
        },
        "invalid_input": {
            "en": "❌ Invalid input. Please enter a valid user ID.",
            "fa": "❌ ورودی نامعتبر. لطفاً یک شناسه کاربری معتبر وارد کنید."
        },
        "admin_not_found": {
            "en": "❌ Admin not found.",
            "fa": "❌ ادمین پیدا نشد."
        }
    },
    "user_actions": {
        "balance_increased": {
            "en": "💵 Your balance has been increased by {amount}.",
            "fa": "💵 موجودی شما به میزان {amount} افزایش یافت."
        },
        "balance_decreased": {
            "en": "💵 Your balance has been decreased by {amount}.",
            "fa": "💵 موجودی شما به میزان {amount} کاهش یافت."
        },
        "user_banned": {
            "en": "🚫 User {user_id} has been banned.",
            "fa": "🚫 کاربر {user_id} بن شد."
        },
        "user_unbanned": {
            "en": "✅ User {user_id} has been unbanned.",
            "fa": "✅ کاربر {user_id} آزاد شد."
        },
        "order_completed": {
            "en": "✅ Order {order_id} has been completed.",
            "fa": "✅ سفارش {order_id} تکمیل شد."
        },
        "order_cancelled": {
            "en": "✅ Order {order_id} has been cancelled.",
            "fa": "✅ سفارش {order_id} لغو شد."
        },
        "admin_added": {
            "en": "👨‍💼 User {user_id} has been added as an admin.",
            "fa": "👨‍💼 کاربر {user_id} به عنوان ادمین جدید اضافه شد."
        },
        "admin_removed": {
            "en": "👨‍💼 User {user_id} has been removed from admins.",
            "fa": "👨‍💼 کاربر {user_id} از ادمین‌ها حذف شد."
        }
    },
    "bot_status": {
        "enabled": {
            "en": "The bot is now enabled.",
            "fa": "ربات اکنون فعال است."
        },
        "disabled": {
            "en": "The bot is now disabled.",
            "fa": "ربات اکنون غیرفعال است."
        },
        "toggle_message": {
            "en": "🔧 The bot is currently {status}. Click the button below to toggle its status:",
            "fa": "🔧 ربات اکنون {status} است. برای تغییر وضعیت ربات روی دکمه زیر کلیک کنید:"
        }
    },
    "manage_admins": {
        "title": {
            "en": "👨‍💼 Select an option to manage admins:",
            "fa": "👨‍💼 گزینه‌ای را برای مدیریت ادمین‌ها انتخاب کنید:"
        },
        "add_admin_prompt": {
            "en": "Please enter the user ID of the new admin:",
            "fa": "لطفاً شناسه کاربری ادمین جدید را وارد کنید:"
        },
        "remove_admin_prompt": {
            "en": "Please enter the user ID of the admin to remove:",
            "fa": "لطفاً شناسه کاربری ادمین برای حذف را وارد کنید:"
        },
        "admin_added": {
            "en": "✅ User {user_id} has been added as an admin.",
            "fa": "✅ کاربر {user_id} به عنوان ادمین جدید اضافه شد."
        },
        "admin_removed": {
            "en": "✅ User {user_id} has been removed from admins.",
            "fa": "✅ کاربر {user_id} از ادمین‌ها حذف شد."
        }
    },
    "manage_orders": {
        "en": "🛒 Select an option to manage orders:",
        "fa": "🛒 گزینه‌ای را برای مدیریت سفارشات انتخاب کنید:"
    },
    "manage_products": {
        "en": "📦 Select an option to manage products:",
        "fa": "📦 گزینه‌ای را برای مدیریت محصولات انتخاب کنید:"
    },
}


def get_message(key: str, lang: str = "en") -> str:
    """Get a localized message from the messages.json file."""
    keys = key.split(".")
    msg = messages
    for k in keys:
        msg = msg.get(k, {})
    return msg.get(lang, "Message not found.")


def fetch_message(value: str, lang: str = "en") -> str:
    """Fetch a localized message based on the value (like button text)."""
    for key, val in messages.items():
        if value in val.values():
            return key
    return "Command not found."
