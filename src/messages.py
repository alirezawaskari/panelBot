buttons = {
    "language": {
        "en": "English ðŸ‡¬ðŸ‡§",
        "fa": "ÙØ§Ø±Ø³ÛŒ ðŸ‡®ðŸ‡·"
    },
    "admin_panel": {
        "manage_users": {
            "en": "ðŸ‘¥ Manage Users",
            "fa": "ðŸ‘¥ Ù…Ø¯ÛŒØ±ÛŒØª Ú©Ø§Ø±Ø¨Ø±Ø§Ù†"
        },
        "manage_products": {
            "en": "ðŸ“¦ Manage Products",
            "fa": "ðŸ“¦ Ù…Ø¯ÛŒØ±ÛŒØª Ù…Ø­ØµÙˆÙ„Ø§Øª"
        },
        "manage_orders": {
            "en": "ðŸ›’ Manage Orders",
            "fa": "ðŸ›’ Ù…Ø¯ÛŒØ±ÛŒØª Ø³ÙØ§Ø±Ø´Ø§Øª"
        },
        "toggle_bot": {
            "en": "âš™ï¸ Enable/Disable Bot",
            "fa": "âš™ï¸ ÙØ¹Ø§Ù„/ØºÛŒØ±ÙØ¹Ø§Ù„ Ú©Ø±Ø¯Ù† Ø±Ø¨Ø§Øª"
        },
        "manage_admins": {
            "en": "ðŸ‘¨â€ðŸ’¼ Manage Admins",
            "fa": "ðŸ‘¨â€ðŸ’¼ Ù…Ø¯ÛŒØ±ÛŒØª Ø§Ø¯Ù…ÛŒÙ†â€ŒÙ‡Ø§"
        },
        "go_back": {
            "en": "ðŸ”™ Back to Main Menu",
            "fa": "ðŸ”™ Ø¨Ø§Ø²Ú¯Ø´Øª Ø¨Ù‡ Ù…Ù†ÙˆÛŒ Ø§ØµÙ„ÛŒ"
        }
    },
    "user_panel": {
        "view_products": {
            "en": "ðŸ›’ View Products",
            "fa": "ðŸ›’ Ù…Ø´Ø§Ù‡Ø¯Ù‡ Ù…Ø­ØµÙˆÙ„Ø§Øª"
        },
        "check_balance": {
            "en": "ðŸ’³ Check Balance",
            "fa": "ðŸ’³ Ø¨Ø±Ø±Ø³ÛŒ Ù…ÙˆØ¬ÙˆØ¯ÛŒ"
        },
        "order_product": {
            "en": "ðŸ“¦ Place Order",
            "fa": "ðŸ“¦ Ø«Ø¨Øª Ø³ÙØ§Ø±Ø´"
        },
        "order_product": {
            "en": "ðŸ“¦ Rules",
            "fa": "ðŸ“¦ Ù‚ÙˆØ§Ù†ÛŒÙ†"
        },
        "order_product": {
            "en": "ðŸ“¦ Place Order",
            "fa": "ðŸ“¦ Ø«Ø¨Øª Ø³ÙØ§Ø±Ø´"
        }
    },
    "manage_users": {
        "increase_balance": {
            "en": "Increase Balance",
            "fa": "Ø§ÙØ²Ø§ÛŒØ´ Ù…ÙˆØ¬ÙˆØ¯ÛŒ"
        },
        "decrease_balance": {
            "en": "Decrease Balance",
            "fa": "Ú©Ø§Ù‡Ø´ Ù…ÙˆØ¬ÙˆØ¯ÛŒ"
        },
        "ban_user": {
            "en": "Ban User",
            "fa": "Ø¨Ù† Ú©Ø±Ø¯Ù† Ú©Ø§Ø±Ø¨Ø±"
        },
        "unban_user": {
            "en": "Unban User",
            "fa": "Ø¢Ø²Ø§Ø¯ Ú©Ø±Ø¯Ù† Ú©Ø§Ø±Ø¨Ø±"
        }
    },
    "manage_products": {
        "increase_price": {
            "en": "Increase Product Price",
            "fa": "Ø§ÙØ²Ø§ÛŒØ´ Ù‚ÛŒÙ…Øª Ù…Ø­ØµÙˆÙ„"
        },
        "decrease_price": {
            "en": "Decrease Product Price",
            "fa": "Ú©Ø§Ù‡Ø´ Ù‚ÛŒÙ…Øª Ù…Ø­ØµÙˆÙ„"
        }
    },
    "manage_orders": {
        "complete_order": {
            "en": "Complete Order",
            "fa": "ØªÚ©Ù…ÛŒÙ„ Ø³ÙØ§Ø±Ø´"
        },
        "cancel_order": {
            "en": "Cancel Order",
            "fa": "Ù„ØºÙˆ Ø³ÙØ§Ø±Ø´"
        }
    },
    "manage_admins": {
        "add_admin": {
            "en": "Add Admin",
            "fa": "Ø§ÙØ²ÙˆØ¯Ù† Ø§Ø¯Ù…ÛŒÙ†"
        },
        "remove_admin": {
            "en": "Remove Admin",
            "fa": "Ø­Ø°Ù Ø§Ø¯Ù…ÛŒÙ†"
        },
    },
}

messages = {
    "admin_panel": {
        "en": "ðŸ’¼ Admin Panel: Please select an option.",
        "fa": "ðŸ’¼ Ù¾Ù†Ù„ Ø§Ø¯Ù…ÛŒÙ†: Ù„Ø·ÙØ§Ù‹ ÛŒÚ© Ú¯Ø²ÛŒÙ†Ù‡ Ø±Ø§ Ø§Ù†ØªØ®Ø§Ø¨ Ú©Ù†ÛŒØ¯."
    },
    "user_panel": {
        "en": "ðŸ‘¤ User Panel: Please select an option.",
        "fa": "ðŸ‘¤ Ù¾Ù†Ù„ Ú©Ø§Ø±Ø¨Ø±ÛŒ: Ù„Ø·ÙØ§Ù‹ ÛŒÚ©ÛŒ Ø§Ø² Ú¯Ø²ÛŒÙ†Ù‡â€ŒÙ‡Ø§ Ø±Ø§ Ø§Ù†ØªØ®Ø§Ø¨ Ú©Ù†ÛŒØ¯."
    },
    "manage_users": {
        "en": "ðŸ‘¥ Select an option to manage users:",
        "fa": "ðŸ‘¥ Ù…Ø¯ÛŒØ±ÛŒØª Ú©Ø§Ø±Ø¨Ø±Ø§Ù†Ø› ÛŒÚ© Ú¯Ø²ÛŒÙ†Ù‡â€Œ Ø±Ø§ Ø§Ù†ØªØ®Ø§Ø¨ Ú©Ù†ÛŒØ¯:"
    },
    "user_stats": {
        "en": "ðŸ‘¥ Total Users: {count}",
        "fa": "ðŸ‘¥ ØªØ¹Ø¯Ø§Ø¯ Ú©Ø§Ø±Ø¨Ø±Ø§Ù†: {count}"
    },
    "order_list": {
        "en": "ðŸ“¦ Ongoing Orders:\n{orders}",
        "fa": "ðŸ“¦ Ø³ÙØ§Ø±Ø´Ø§Øª Ø¯Ø± Ø­Ø§Ù„ Ø§Ù†Ø¬Ø§Ù…:\n{orders}"
    },
    "product_details": {
        "en": "ðŸ“¦ Product: {name}\nðŸ’° Price: {price}",
        "fa": "ðŸ“¦ Ù…Ø­ØµÙˆÙ„: {name}\nðŸ’° Ù‚ÛŒÙ…Øª: {price}"
    },
    "product_price_updated": {
        "en": "âœ… The price of {product_name} has been updated to {new_price}.",
        "fa": "âœ… Ù‚ÛŒÙ…Øª Ù…Ø­ØµÙˆÙ„ {product_name} Ø¨Ù‡ {new_price} Ø¨Ù‡â€ŒØ±ÙˆØ²Ø±Ø³Ø§Ù†ÛŒ Ø´Ø¯."
    },
    "order_confirmation": {
        "en": "âœ… Your order has been placed: {product_name} - Price: {price}",
        "fa": "âœ… Ø³ÙØ§Ø±Ø´ Ø´Ù…Ø§ Ø«Ø¨Øª Ø´Ø¯: {product_name} - Ù‚ÛŒÙ…Øª: {price}"
    },
    "balance_check": {
        "en": "ðŸ’³ Your current balance is: {balance}",
        "fa": "ðŸ’³ Ù…ÙˆØ¬ÙˆØ¯ÛŒ ÙØ¹Ù„ÛŒ Ø´Ù…Ø§: {balance}"
    },
    "log_user_start": {
        "en": "ðŸ‘¤ User {user_id} started the bot.",
        "fa": "ðŸ‘¤ Ú©Ø§Ø±Ø¨Ø± {user_id} Ø±Ø¨Ø§Øª Ø±Ø§ Ø´Ø±ÙˆØ¹ Ú©Ø±Ø¯."
    },
    "log_purchase": {
        "en": "ðŸ›’ Purchase: Order ID {order_id}, Product: {product_name}, User: {user_id}",
        "fa": "ðŸ›’ Ø®Ø±ÛŒØ¯: Ø´Ù…Ø§Ø±Ù‡ Ø³ÙØ§Ø±Ø´ {order_id}, Ù…Ø­ØµÙˆÙ„: {product_name}, Ú©Ø§Ø±Ø¨Ø±: {user_id}"
    },
    "admin_list": {
        "en": "ðŸ‘¨â€ðŸ’¼ Admins:\n{admins}",
        "fa": "ðŸ‘¨â€ðŸ’¼ Ø§Ø¯Ù…ÛŒÙ†â€ŒÙ‡Ø§:\n{admins}"
    },
    "errors": {
        "user_not_found": {
            "en": "âŒ User not found.",
            "fa": "âŒ Ú©Ø§Ø±Ø¨Ø± ÛŒØ§ÙØª Ù†Ø´Ø¯."
        },
        "product_not_found": {
            "en": "âŒ Product not found.",
            "fa": "âŒ Ù…Ø­ØµÙˆÙ„ Ù¾ÛŒØ¯Ø§ Ù†Ø´Ø¯."
        },
        "order_not_found": {
            "en": "âŒ Order not found.",
            "fa": "âŒ Ø³ÙØ§Ø±Ø´ Ù¾ÛŒØ¯Ø§ Ù†Ø´Ø¯."
        },
        "permission_denied": {
            "en": "âŒ You do not have permission to perform this action.",
            "fa": "âŒ Ø´Ù…Ø§ Ù…Ø¬ÙˆØ² Ø§Ù†Ø¬Ø§Ù… Ø§ÛŒÙ† Ø¹Ù…Ù„ Ø±Ø§ Ù†Ø¯Ø§Ø±ÛŒØ¯."
        },
        "invalid_input": {
            "en": "âŒ Invalid input. Please enter a valid user ID.",
            "fa": "âŒ ÙˆØ±ÙˆØ¯ÛŒ Ù†Ø§Ù…Ø¹ØªØ¨Ø±. Ù„Ø·ÙØ§Ù‹ ÛŒÚ© Ø´Ù†Ø§Ø³Ù‡ Ú©Ø§Ø±Ø¨Ø±ÛŒ Ù…Ø¹ØªØ¨Ø± ÙˆØ§Ø±Ø¯ Ú©Ù†ÛŒØ¯."
        },
        "admin_not_found": {
            "en": "âŒ Admin not found.",
            "fa": "âŒ Ø§Ø¯Ù…ÛŒÙ† Ù¾ÛŒØ¯Ø§ Ù†Ø´Ø¯."
        }
    },
    "user_actions": {
        "balance_increased": {
            "en": "ðŸ’µ Your balance has been increased by {amount}.",
            "fa": "ðŸ’µ Ù…ÙˆØ¬ÙˆØ¯ÛŒ Ø´Ù…Ø§ Ø¨Ù‡ Ù…ÛŒØ²Ø§Ù† {amount} Ø§ÙØ²Ø§ÛŒØ´ ÛŒØ§ÙØª."
        },
        "balance_decreased": {
            "en": "ðŸ’µ Your balance has been decreased by {amount}.",
            "fa": "ðŸ’µ Ù…ÙˆØ¬ÙˆØ¯ÛŒ Ø´Ù…Ø§ Ø¨Ù‡ Ù…ÛŒØ²Ø§Ù† {amount} Ú©Ø§Ù‡Ø´ ÛŒØ§ÙØª."
        },
        "user_banned": {
            "en": "ðŸš« User {user_id} has been banned.",
            "fa": "ðŸš« Ú©Ø§Ø±Ø¨Ø± {user_id} Ø¨Ù† Ø´Ø¯."
        },
        "user_unbanned": {
            "en": "âœ… User {user_id} has been unbanned.",
            "fa": "âœ… Ú©Ø§Ø±Ø¨Ø± {user_id} Ø¢Ø²Ø§Ø¯ Ø´Ø¯."
        },
        "order_completed": {
            "en": "âœ… Order {order_id} has been completed.",
            "fa": "âœ… Ø³ÙØ§Ø±Ø´ {order_id} ØªÚ©Ù…ÛŒÙ„ Ø´Ø¯."
        },
        "order_cancelled": {
            "en": "âœ… Order {order_id} has been cancelled.",
            "fa": "âœ… Ø³ÙØ§Ø±Ø´ {order_id} Ù„ØºÙˆ Ø´Ø¯."
        },
        "admin_added": {
            "en": "ðŸ‘¨â€ðŸ’¼ User {user_id} has been added as an admin.",
            "fa": "ðŸ‘¨â€ðŸ’¼ Ú©Ø§Ø±Ø¨Ø± {user_id} Ø¨Ù‡ Ø¹Ù†ÙˆØ§Ù† Ø§Ø¯Ù…ÛŒÙ† Ø¬Ø¯ÛŒØ¯ Ø§Ø¶Ø§ÙÙ‡ Ø´Ø¯."
        },
        "admin_removed": {
            "en": "ðŸ‘¨â€ðŸ’¼ User {user_id} has been removed from admins.",
            "fa": "ðŸ‘¨â€ðŸ’¼ Ú©Ø§Ø±Ø¨Ø± {user_id} Ø§Ø² Ø§Ø¯Ù…ÛŒÙ†â€ŒÙ‡Ø§ Ø­Ø°Ù Ø´Ø¯."
        }
    },
    "bot_status": {
        "enabled": {
            "en": "The bot is now enabled.",
            "fa": "Ø±Ø¨Ø§Øª Ø§Ú©Ù†ÙˆÙ† ÙØ¹Ø§Ù„ Ø§Ø³Øª."
        },
        "disabled": {
            "en": "The bot is now disabled.",
            "fa": "Ø±Ø¨Ø§Øª Ø§Ú©Ù†ÙˆÙ† ØºÛŒØ±ÙØ¹Ø§Ù„ Ø§Ø³Øª."
        },
        "toggle_message": {
            "en": "ðŸ”§ The bot is currently {status}. Click the button below to toggle its status:",
            "fa": "ðŸ”§ Ø±Ø¨Ø§Øª Ø§Ú©Ù†ÙˆÙ† {status} Ø§Ø³Øª. Ø¨Ø±Ø§ÛŒ ØªØºÛŒÛŒØ± ÙˆØ¶Ø¹ÛŒØª Ø±Ø¨Ø§Øª Ø±ÙˆÛŒ Ø¯Ú©Ù…Ù‡ Ø²ÛŒØ± Ú©Ù„ÛŒÚ© Ú©Ù†ÛŒØ¯:"
        }
    },
    "manage_admins": {
        "title": {
            "en": "ðŸ‘¨â€ðŸ’¼ Select an option to manage admins:",
            "fa": "ðŸ‘¨â€ðŸ’¼ Ú¯Ø²ÛŒÙ†Ù‡â€ŒØ§ÛŒ Ø±Ø§ Ø¨Ø±Ø§ÛŒ Ù…Ø¯ÛŒØ±ÛŒØª Ø§Ø¯Ù…ÛŒÙ†â€ŒÙ‡Ø§ Ø§Ù†ØªØ®Ø§Ø¨ Ú©Ù†ÛŒØ¯:"
        },
        "add_admin_prompt": {
            "en": "Please enter the user ID of the new admin:",
            "fa": "Ù„Ø·ÙØ§Ù‹ Ø´Ù†Ø§Ø³Ù‡ Ú©Ø§Ø±Ø¨Ø±ÛŒ Ø§Ø¯Ù…ÛŒÙ† Ø¬Ø¯ÛŒØ¯ Ø±Ø§ ÙˆØ§Ø±Ø¯ Ú©Ù†ÛŒØ¯:"
        },
        "remove_admin_prompt": {
            "en": "Please enter the user ID of the admin to remove:",
            "fa": "Ù„Ø·ÙØ§Ù‹ Ø´Ù†Ø§Ø³Ù‡ Ú©Ø§Ø±Ø¨Ø±ÛŒ Ø§Ø¯Ù…ÛŒÙ† Ø¨Ø±Ø§ÛŒ Ø­Ø°Ù Ø±Ø§ ÙˆØ§Ø±Ø¯ Ú©Ù†ÛŒØ¯:"
        },
        "admin_added": {
            "en": "âœ… User {user_id} has been added as an admin.",
            "fa": "âœ… Ú©Ø§Ø±Ø¨Ø± {user_id} Ø¨Ù‡ Ø¹Ù†ÙˆØ§Ù† Ø§Ø¯Ù…ÛŒÙ† Ø¬Ø¯ÛŒØ¯ Ø§Ø¶Ø§ÙÙ‡ Ø´Ø¯."
        },
        "admin_removed": {
            "en": "âœ… User {user_id} has been removed from admins.",
            "fa": "âœ… Ú©Ø§Ø±Ø¨Ø± {user_id} Ø§Ø² Ø§Ø¯Ù…ÛŒÙ†â€ŒÙ‡Ø§ Ø­Ø°Ù Ø´Ø¯."
        }
    },
    "manage_orders": {
        "en": "ðŸ›’ Select an option to manage orders:",
        "fa": "ðŸ›’ Ú¯Ø²ÛŒÙ†Ù‡â€ŒØ§ÛŒ Ø±Ø§ Ø¨Ø±Ø§ÛŒ Ù…Ø¯ÛŒØ±ÛŒØª Ø³ÙØ§Ø±Ø´Ø§Øª Ø§Ù†ØªØ®Ø§Ø¨ Ú©Ù†ÛŒØ¯:"
    },
    "manage_products": {
        "en": "ðŸ“¦ Select an option to manage products:",
        "fa": "ðŸ“¦ Ú¯Ø²ÛŒÙ†Ù‡â€ŒØ§ÛŒ Ø±Ø§ Ø¨Ø±Ø§ÛŒ Ù…Ø¯ÛŒØ±ÛŒØª Ù…Ø­ØµÙˆÙ„Ø§Øª Ø§Ù†ØªØ®Ø§Ø¨ Ú©Ù†ÛŒØ¯:"
    },
}


def get_message(key: str, lang: str = "en") -> str:
    """Get a localized message from the messages.json file."""
    keys = key.split(".")
    msg = messages
    for k in keys:
        msg = msg.get(k, {})
    return msg.get(lang, "Message not found.")


def fetch_message(value: str, lang: str = "en") -> str:
    """Fetch a localized message based on the value (like button text)."""
    for key, val in messages.items():
        if value in val.values():
            return key
    return "Command not found."
